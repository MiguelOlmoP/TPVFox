<?xml version="1.0" encoding="utf-8"?>
<!-- 
Recuerda en poner acciones mismo al principio de cada campo.
Ya que asi no hacemos las otras, ya que no tiene sentido seguir acciones si consideramos que es mismo.
-->
<parametros>
	<tablas>
		<tabla>
			<nombre>proveedo</nombre>
				<campos>
					<campo nombre="CCODPRO">
						<tipo>Unico</tipo>
					</campo>
					<campo nombre="CNIFDNI">
						<action funcion="mismo" tabla_cruce="proveedores" campo_cruce="nif" description="Numeros iguales y letra puede ser mayusculas o minusculas, delante o detras" />
						<tipo>Unico</tipo>
					</campo>
					<campo nombre="CTFO1PRO">
						<action funcion="mismo" tabla_cruce="proveedores" campo_cruce="telefono" description="Numeros mismoes sin espacios" />
						<action funcion="mismo" tabla_cruce="proveedores" campo_cruce="movil" description="Numeros iguales sin espacios" />
					</campo>
					<campo nombre="CTFO2PRO">
						<action funcion="mismo" tabla_cruce="proveedores" campo_cruce="telefono" description="Numeros iguales sin espacios" />
						<action funcion="mismo" tabla_cruce="proveedores" campo_cruce="movil" description="Numeros iguales sin espacios" />
					</campo>
					<campo nombre="CFAX">
						<action funcion="mismo" tabla_cruce="proveedores" campo_cruce="fax" description="Numeros iguales sin espacios"/>
					</campo>
					<campo nombre="CNOMPRO">
						<action funcion="comparar" tabla_cruce="proveedores" campo_cruce="nombrecomercial" description="Compara cuales son lo mas aproximados" />
						<action funcion="comparar" tabla_cruce="proveedores" campo_cruce="razonsocial" description="Compara cuales son lo mas aproximados" />
					</campo>
					
				</campos>
				<consultas>
					<consulta tipo="anhadir">
								INSERT INTO `proveedores`( `nombrecomercial`, `razonsocial`, `nif`, `direccion`, `telefono`, `fax`, `movil`, `email` ) SELECT `CNOMPRO`, `CNOMPRO`, `CNIFDNI`, CONCAT(`CDIRPRO`,' ', `CPOBPRO`,' ', `CPTLPRO`), `CTFO1PRO`, `CFAX`, `CTFO2PRO`, `EMAIL` FROM importarDbf.proveedo 
					</consulta>
				</consultas>				
				<tpv>
					<tabla>
						<nombre>proveedores</nombre>
						<campo nombre="idProveedor">
							<tipo>Unico</tipo>
						</campo>
						<campo nombre="nombrecomercial">
							<cruce>CNOMPRO</cruce>
						</campo>
						<campo nombre="razonsocial">
							<cruce>CNOMPRO</cruce>
						</campo>
						<campo nombre="nif">
							<cruce>CNIFDNI</cruce>
						</campo>
						<campo nombre="direccion">
							<cruce tipo="concat">CDIRPRO,CPOBPRO,CPTLPRO</cruce>
						</campo>
						<campo nombre="telefono">
							<cruce>CTFO1PRO</cruce>
						</campo>
						<campo nombre="fax">
							<cruce>CFAX</cruce>
						</campo>
						<campo nombre="movil">
							<cruce>CTFO2PRO</cruce>
						</campo>
						<campo nombre="email">
							<cruce>EMAIL</cruce>
						</campo>
					</tabla>
				</tpv>
		</tabla>
		<tabla>
			<nombre>articulo</nombre>
				<campos>
					<campo nombre="CCODEBAR">
						<action funcion="mismo" tabla_cruce="articulosCodigoBarras" campo_cruce="codBarras" description="Comparar para buscar las mas similares."/>
					</campo>
					<campo nombre="CCREF">
						<action funcion="mismo" tabla_cruce="articulosTiendas" campo_cruce="crefTienda" description="Iguales sin espacios"/>
					</campo>
					<campo nombre="CDETALLE">
						<action funcion="comparar" tabla_cruce="articulos" campo_cruce="articulo_funcion" description="Comparar para buscar las mas similares."/>
					</campo>
					
				</campos>
		</tabla>
	</tablas>
	<cajas_input data-obj="id_input">
		<caja_input>
			<nombre id_input="Ejecutar">botonEjecutar</nombre>
			<teclas>
				<action tecla="13">InicioEjecutar</action>
			</teclas>
			<before>
				<estado>Si</estado>
			</before>
			<after>
				<estado>Si</estado>
			</after>
		</caja_input>
	</cajas_input>
	<configuracion>
		<tipos_registros>
			<tipo clase="todos">
				<texto>Todos</texto>
				<consulta></consulta>
			</tipo>
			<tipo clase="sin">
				<texto>Sin tratar</texto>
				<consulta>WHERE estado is null</consulta>
			</tipo>
			<tipo clase="nuevo">
				<texto>Nuevos</texto>
				<consulta>WHERE estado= "Nuevo"</consulta>
			</tipo>
			<tipo clase="modificado">
				<texto>Modificados</texto>
				<consulta>WHERE estado="Modificado"</consulta>
			</tipo>
			<tipo clase="descartado">
				<texto>Descartados</texto>
				<consulta>WHERE estado="Descartado"</consulta>
			</tipo>
		</tipos_registros>
	</configuracion>
</parametros>
